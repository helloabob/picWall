package{	import flash.display.Sprite;	import flash.display.Stage;	import flash.events.EventDispatcher;		public class TableViewController extends EventDispatcher	{			//public properties		private var _view:Sprite;		private var _rows:int;		private var _stage:Stage;		private var _lists:Array;				//private properties		private var rowHeight:Number;		private var currentIndex:int=0;		private var offsetXs:Array=[0,0,0];				public function TableViewController()		{			_rows = 3;			_view = new Sprite();		}				private function itemDidAppear(evt:TableViewEvent):void{			offsetXs[currentIndex%rows]+=evt.itemWidth;			var temp:ImageItem = evt.target as ImageItem;			temp.removeEventListener(TableViewEvent.ITEMDIDAPPEAR,itemDidAppear);						if(currentIndex>_lists.length-2)return;						currentIndex++;			loadItem();		}				private function loadItem():void{			var item:ImageItem = new ImageItem();			item.height = rowHeight;			item.y = (currentIndex%rows)*rowHeight;			item.x = offsetXs[currentIndex%rows];			item.addEventListener(TableViewEvent.ITEMDIDAPPEAR,itemDidAppear);			item.imageName = (currentIndex+1).toString();			_view.addChild(item.view);		}				public function start():void{			rowHeight = _stage.stageHeight / _rows;			loadItem();//			var item:ImageItem = new ImageItem();//			item.height = rowHeight;//			item.y = 0;//			item.addEventListener(TableViewEvent.ITEMDIDAPPEAR,itemDidAppear);//			item.imageName = "1";//			_view.addChild(item.view);//			//			item = new ImageItem();//			item.height = rowHeight;//			item.imageName = "2";//			item.y = rowHeight;//			_view.addChild(item.view);					}		public function get lists():Array		{			return _lists;		}		public function set lists(value:Array):void		{			_lists = value;		}		public function get stage():Stage		{			return _stage;		}		public function set stage(value:Stage):void		{			_stage = value;		}		public function get view():Sprite		{			return _view;		}		public function set view(value:Sprite):void		{			_view = value;		}		public function get rows():int		{			return _rows;		}		public function set rows(value:int):void		{			_rows = value;		}	}}